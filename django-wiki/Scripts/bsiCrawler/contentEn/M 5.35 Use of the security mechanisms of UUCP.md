#M 5.35 Use of the security mechanisms of UUCP
Responsible for Initiation: Administrator, IT Security Officer

Responsible for implementation: Administrator

The UUCP (Unix-to-Unix Copy) program package included in the standard scope of Unix systems and also available for other operating systems allows the exchange of data between IT systems and the execution of commands on remote IT systems. Prerequisite is only the compatibility of the uucico programs on the two systems involved. UUCP is very common, although its importance has decreased. by the possibility to connect computers over ISIS via TCP / IP.

UUCP is usually used to exchange e-mail and news between computers (uucp). It also allows logging in (cu) and executing programs (uux) on external computers.

There are several variants of UUCP: In addition to the implementation of Peter Honeyman, David Nowitz and Brian E. Redman from 1983 (HoneyDanBer UUCP), the original UUCP system of the AT & T UNIX Version 7, whose second version is up-to-date, is also frequently used (this UUCP implementation is therefore also called version 2 UUCP) or the Tahoe UUCP (which was delivered with BSD 4.3) used.

The UUCP variant used can be recognized by the files in the directory / usr / lib / uucp (on some systems / etc / uucp): Version 2 UUCP contains the file L.sys, while the HoneyDanBer UUCP contains the file Systems.

Version 2 UUCP has serious security problems (errors in uucico, risk of incorrect configuration due to the complicated nature of the security-related administration files). It should therefore not be used, instead the HoneyDanBer UUCP should be used.

In general, the following security issues should be considered when using UUCP:

* The administration of UUCP presupposes an intensive occupation with the configuration possibilities and the pertinent files. It has to be taken into account that there may be differences between the UUCP packages of the various Unix derivatives, even if these are based on the HoneyDanBer UUCP.
* The same requirements apply to the administration of UUCP files, programs and directories as to the administration of system files and directories (see M .2.25 System configuration documentation, M 2.31 Authorized user and rights profile documentation, M  4.19 Restrictive attribute assignment for Unix system files and directories).
* Most systems have a user called uucp. This user includes the UUCP files, programs, and directories. It must be ensured that this account has a password in accordance with the provisions of measure M 2.11 Password Usage. The home directory for user uucp may not be the public directory / usr / spool / uucppublic, but its own to which only the user uucp has access.
* For each IT system that can log on to the local IT system via UUCP, a separate user ID and password must be entered in / etc / passwd. The user ID uucp must not be chosen as the UID, but any individual UID for each remote IT system.
* UUCP passwords are transmitted unencrypted during communication requests and are stored in the corresponding UUCP configuration file for requests to remote computers without encryption. Depending on the application and environment (especially when using long-distance networks) appropriate security measures such. B. to seize the use of one-time passwords.


For the use of UUCP different configuration files have to be set up. All settings should be documented and any deviations from the settings suggested below should be briefly explained, so that later it is understandable why this change was necessary.

The management of the following files must be handled with particular care because they contain safety-critical information. They are located in the directory / usr / lib / uucp or / etc / uucp). Only the user uucp may have write access to these directories.

* Systems: This file contains the information needed to connect to remote IT systems. For each individual IT system, the time periods in which the transmission via UUCP is permitted can be defined here. These periods should be as narrow as possible. The file also contains the telephone numbers and login sequences of the IT systems to which a connection can be established via UUCP. On systems, only the owner uucp may have read access, since the passwords for the remote IT systems are also entered here.
* Permissions: This defines access rights for remote systems. When delivered, no IT systems are entered in Permissions, ie. H. No access is possible via UUCP. For each computer that can call and log in, and for each computer that can be called, settings must be made here to determine the respectively required access rights and other conditions. The access rights for the IT systems called by the local IT system are specified in the submissions following MACHINE, those for the calling IT system below those on LOGNAME. By taking advantage of these configuration possibilities, the security can be considerably increased. With the uucheck -v command, the options set in the Permissions file should be checked regularly. The options should be set as follows: REQUESTThis option should be set to NO (default value) to prohibit remote systems from reading local files.COMMANDHOn this case ALL must not be entered, only the commands may be allowed, which are necessary like rnews or rmail. The commands should be specified with the full pathname.WRITE / READIf these options are not specified, write / read access is only possible to the directory / usr / spool / uucppublic.If this specifies directories that are accessed must be documented on which and why. Under no circumstances may the root directory or the directory in which the UUCP configuration files are located be entered here.NOWRITE / NOREADHerewith exceptions to the options specified with WRITE / READ. Directories containing sensitive content should generally be listed here. Then, by forgetting to set restrictions, remote directories can not access such directories if overhead directories are shared via READ / WRITE.PUBDIRHere, instead of / usr / spool / uucppublic, another public folder can be accessed UUCP directory. For UUCP communication with multiple IT systems, a separate UUCP directory should be specified for each IT system.CALLBACKIf CALLBACK is set to YES, the local IT system must call back the calling IT system before exchanging data can take place. This of course only makes sense for LOGNAME entries. It should be agreed between the communication partners, which activates a CALLBACK.MYNAMEIf MYNAME = name is set, the local system identifies with the remote system not with the computer name, but with name when establishing a UUCP connection. This option should be used to identify itself with a name that is only used specifically for this connection and therefore can not be easily identified. VALIDATE If VALIDATE = name is set, only the name systems listed under names establish a connection via the system names specified under LOGNAME. With this option, there must be an entry, otherwise a remote IT system could perform a masquerade by faking another computer name over MYNAME. SENDFILThere should be the default setting (SENDFILE = CALL), because then jobs located locally in the queue can only be transferred externally if the local IT system has established the connection.
* The file /usr/lib/uucp/remote.unknown of the HoneyDanBer UUCP is executed when an unknown IT system, that is, an IT system not entered in the system file, tries to establish a connection. It logs the attempt and rejects it. If remote.unknown is not executable, the local IT system addresses all connection requests from remote IT systems. It must therefore be ensured that remote.unknown is always executable. Depending on the Unix system, remote.unknown is implemented as a executable shell script or as a C program. If remote.unknown is implemented as a shell script on the local IT system, it should be replaced by a program for security reasons. Otherwise there is a risk that a calling IT system enters a command such as cat </ etc / passwd as the system name, which can then be executed.
* For UUCP, there are some cleanup shell scripts that are automatically executed via the crontab d mon. This must not be initiated by root, as it is usual on many systems, but must be done by the user uucp.


When using UUCP, different logging files are automatically created. The HoneyDanBer UUCP can be found in subdirectories of / usr / spool. It records successful and rejected connection attempts, the amount of data sent and received, error messages, and data transfer statistics. These logging files must be evaluated regularly (see also M 4.25 Use of logging in the Unix system).



