#M 2.229 Planning the Active Directory
Responsible for initiation: IT security officer, IT manager

Responsible for implementation: Administrator, IT Manager

A basic prerequisite for the safe use of the Active Directory is adequate planning in advance. Planning for an Active Directory can be done in several steps. At first, a rough concept for the structure of the domain was to be drawn up and the individual sub-aspects constructed on this basis. Planning does not only concern aspects that are classically associated with the term security, but also normal operational aspects that may entail safety requirements. Information about the structure and the basic structure of an Active Directory is provided by the M 3.64 Implementation in Active Directory.

As part of Active Directory planning, the following aspects must be taken into consideration:

* Which Active Directory structure should be chosen in the sense of division into domains and which arrangement of domains in trees and forests should be selected?
* Which users and computers should be summarized in which domains?


For each domain must be decided

* which OU objects should exist, how they should be hierarchically arranged and which objects should be included in each case,
* which security groups are needed and how they are grouped in OUs,
* which administrative model is implemented (centralized / decentralized administration),
* whether and to whom administrative tasks should be delegated,
* which security settings should apply to different types of computers and user groups,
* which group policy settings are required and the concept of Group Policy distribution (see M 2.231 Group Policy Planning in Windows and M 2.326 Group Policy Planning for Clients as of Windows XP).
* which trusts are automatically generated by Windows server and which additional trusts (eg NT Domains or external Kerberos Realms) need to be set up,
* which Active Directory information can be accessed by whom via the various Active Directory interfaces (eg ADSI, LDAP),
* which Active Directory objects are to be transferred to the so-called Global Catalog, which can be accessed globally in a Forest,
* The mode in which the domain must be operated: If a domain still has Windows NT backup domain controllers (BDCs), the domain must be operated in mixed mode. If no BDCs are available, the domain can be operated in native mode.


In general, the planned Active Directory structure must be documented, which contributes significantly to stability, consistent administration and thus to system security. It is particularly advisable to record which schema changes are made. The reasons for the change should also be documented.

For each Active Directory object should be documented:

* Name and position in the Active Directory tree (for example, LocationBerlin, Father object: OU Branch Germany)
* which purpose the object serves (eg group of users with RAS access on RAS server 1)
* which administrative access rights are to be assigned for the object and its attributes (eg completely managed by Admin1)
* How to configure the inheritance of Active Directory rights. B. Blocking the rights inheritance (see also M 2.230 Active Directory Administration Planning, M 3.27 Active Directory Management Training)
* which group policy objects affect this object (see M 2.231 Planning of Group Policy under Windows)


The planning of the Active Directory administration and the used administrative model has an important role to play. Recommendations can be found summarized in measure M 2.230 Planning Active Directory Administration.

The security-relevant core aspects of Active Directory planning are summarized:

* Domains limit the administrative power of administrators. As a result, administrators can only manage within a domain, so their administrative authority does not extend beyond the domain boundary by default. This is particularly true in the context of several domains (tree, forest), so that the often voiced concerns that the standard transitive trust model also permits administrative permissions across domain boundaries, for normal administrator accounts (see Organization Admins below).


* Domain-wide access requires that access permissions for the accessor from another domain be set up explicitly in the target domain. By default, no inter-domain access is possible. This means that in a tree or forest, an administrator of a domain A can only administratively access any other domain B if the dome The administrator of B explicitly grants permissions to the administrator of domain A (see Organization Admins).


* The members of the Enterprise Admins group enjoy a special status because they have administrator rights to Active Directory throughout the Forest. In particular, set access rights to Active Directory objects are ignored when accessing organizational admins. The membership of the group of organizational admins therefore has to be restricted and strictly controlled. It should be noted that an organization admin is required, for example, to create a subdomain.


* Administrative delegation is achieved by assigning access to Active Directory objects and their attributes. The distribution of access rights must be done according to the administrative model. The mechanisms for access rights in the Active Directory (inheritance, control of inheritance, scope of access settings) can be used to set up very complex authorization structures. These can quickly become unclear and no longer administrable, so that security gaps can result from misconfigurations in the Active Directory. The simplest possible authorization structure is therefore preferable.


* Schema changes are critical operations and may only be performed by authorized administrators after careful planning.


Finally, it should be noted that errors in the Active Directory planning and the underlying concepts after installation can be corrected only with considerable effort. Subsequent changes in the Active Directory structure, such as: The arrangement of domains in trees and forests may involve the complete rebuilding of domains.



